---
id: version-2.0.0-ble_how_to_communicate
title: 機能の利用
sidebar_label: 機能の利用
original_id: ble_how_to_communicate
---

キューブの各種機能は特性（characteristic）を使うことで情報の取得や制御ができます。各特性は「書き込み（Write）」や「読み出し（Read）」「通知（Notify）」のプロパティのいずれかをサポートし、それぞれ以下のように使い分けます。

| プロパティ | 使い方                                                                                 |
| ---------- | -------------------------------------------------------------------------------------- |
| 書き込み   | 特性にデータを書き込むことで、データの内容に基づいてキューブを制御します。             |
| 読み出し   | 特性からデータを読みだすことで、データに含まれるキューブの情報を取得できます。         |
| 通知       | 「読み出し」で取得できる情報は「通知」によって変更されるたびに受け取ることができます。 |

## データ構造の表記

「書き込み」「読み出し」「通知」で扱うデータの構造については
次ページ以降、以下の形式で個別に解説しています。

| データ位置 | タイプ | 内容 | 例  |
| ---------- | ------ | ---- | --- |


#### データ位置

0 から始まるバッファー上のデータの位置です。

#### タイプ

`UInt8`や`String`等データのタイプです。バイトオーダーは全てリトルエンディアンです。

#### 内容

データの内容をテキストで説明します。

#### 例

具体的な例を以下のスタイルで記載します。

- <span fixed>`0x00`</span>: 固定データ（この値以外は無効 or この値以外存在しない）
- `0x00`: 固定でないデータの一例

## 書き込み操作におけるエラー

書き込み操作において、次のような場合はエラーとして扱われます。
エラーの場合、書き込み操作は破棄されてキューブの動作に影響を与えません。

- データ全体の長さが規定した長さと異なる場合
- データの値が規定した範囲から外れている場合

この他にもエラーケースがある場合は特性ごとに注意事項として記載しています。
