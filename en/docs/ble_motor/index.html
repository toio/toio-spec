<!doctype html>
<html class="docs-version-2.3.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWSKEQSKMK"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RWSKEQSKMK",{})</script>
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Motor | toio™コア キューブ 技術仕様</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://toio.github.io/toio-spec/en/img/social_image.png"><meta data-react-helmet="true" name="twitter:image" content="https://toio.github.io/toio-spec/en/img/social_image.png"><meta data-react-helmet="true" property="og:url" content="https://toio.github.io/toio-spec/en/docs/ble_motor"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.3.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.3.0"><meta data-react-helmet="true" property="og:title" content="Motor | toio™コア キューブ 技術仕様"><meta data-react-helmet="true" name="description" content="Cube direction"><meta data-react-helmet="true" property="og:description" content="Cube direction"><link data-react-helmet="true" rel="shortcut icon" href="/toio-spec/en/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://toio.github.io/toio-spec/en/docs/ble_motor"><link data-react-helmet="true" rel="alternate" href="https://toio.github.io/toio-spec/en/docs/ble_motor" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://toio.github.io/toio-spec/docs/ble_motor" hreflang="ja"><link data-react-helmet="true" rel="alternate" href="https://toio.github.io/toio-spec/docs/ble_motor" hreflang="x-default"><link rel="stylesheet" href="/toio-spec/en/assets/css/styles.a77e4fee.css">
<link rel="preload" href="/toio-spec/en/assets/js/runtime~main.5c18497b.js" as="script">
<link rel="preload" href="/toio-spec/en/assets/js/main.3df5706d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/toio-spec/en/"><b class="navbar__title">toio™ Core Cube Specifications</b></a><a class="navbar__item navbar__link navbar__link--active" href="/toio-spec/en/docs/about">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/toio-spec/en/docs/ble_motor" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/toio-spec/docs/ble_motor" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">日本語</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/toio-spec/en/docs/about">2.3.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/toio-spec/en/docs/ble_motor">2.3.0</a></li><li><a class="dropdown__link" href="/toio-spec/en/docs/2.2.0/ble_motor">2.2.0</a></li><li><a class="dropdown__link" href="/toio-spec/en/docs/2.1.0/ble_motor">2.1.0</a></li><li><a class="dropdown__link" href="/toio-spec/en/docs/2.0.0/ble_motor">2.0.0</a></li></ul></div><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">About</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Hardware specifications</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Communication specifications</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_communication_overview">🔄 Communication Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_how_to_communicate">Function usage</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Functions</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_id">Identification sensor</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_sensor">🔄 Motion detection</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_high_precision_tilt_sensor">🔄 Posture Angle detection</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_magnetic_sensor">🔄 Magnetic sensor</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_button">Button</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_battery">Battery</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/toio-spec/en/docs/ble_motor">Motor</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_light">Indicator</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_sound">Sound</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/toio-spec/en/docs/ble_configuration">🔄 Configuration</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.3.0</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Motor</h1></header><p><img alt="Cube direction" src="/toio-spec/en/assets/images/motor_cube_direction-f9ff866351a3f642a12ca99d7d15b302.svg"></p><p>The cube has two motors, with one connected to the left wheel and one to the right wheel (see <a href="/toio-spec/en/docs/hardware_components">Parts</a>).
These motors can be controlled using the following characteristics.</p><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td>Characteristic UUID</td><td>10B20102-5B3B-4571-9508-CF3EFCD7BBAE</td></tr><tr><td>Properties</td><td><a href="#write-operations">Write without response</a>, <a href="#read-operations--notifications">Read</a>, <a href="#read-operations--notifications">Notify</a></td></tr><tr><td>Descriptor</td><td>Motor Control</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="write-operations"></a>Write operations<a class="hash-link" href="#write-operations" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="motor-control"></a>Motor Control<a class="hash-link" href="#motor-control" title="Direct link to heading">#</a></h3><p>The motor can be controlled by writing the following configuration data. The motors continue to run at the specified speed until the next write operation is performed.</p><table><thead><tr><th>Data location</th><th>Type</th><th>Content</th><th>Example</th></tr></thead><tbody><tr><td>0</td><td>UInt8</td><td>Control type</td><td><span class="fixed"><code>0x01</code></span> (Motor control)</td></tr><tr><td>1</td><td>UInt8</td><td>ID of motor controlled</td><td><code>0x01</code> (Left)</td></tr><tr><td>2</td><td>UInt8</td><td>Motor rotation direction</td><td><code>0x01</code> (Forward)</td></tr><tr><td>3</td><td>UInt8</td><td>Motor speed command values</td><td><code>0x64</code> (100)</td></tr><tr><td>4</td><td>UInt8</td><td>ID motor controlled</td><td><code>0x02</code> (Right)</td></tr><tr><td>5</td><td>UInt8</td><td>Motor rotation direction</td><td><code>0x02</code> (Backward)</td></tr><tr><td>6</td><td>UInt8</td><td>Motor speed command values</td><td><code>0x14</code> (20)</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="id-motor-controlled"></a>ID motor controlled<a class="hash-link" href="#id-motor-controlled" title="Direct link to heading">#</a></h4><p>Specifies the ID of the motor being controlled. The ID of the left motor is <code>1</code> and the ID of the right motor is <code>2</code>.
As there are two locations for which motor ID are specified, if both are specified with the same ID, an error occurs and the write operation is ignored.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="motor-rotation-direction"></a>Motor rotation direction<a class="hash-link" href="#motor-rotation-direction" title="Direct link to heading">#</a></h4><p>Specifies the rotation direction for the motor that was just specified.
The value for moving the cube forward is <code>1</code> and the value for moving it backward is <code>2</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="motor-speed-command-values"></a>Motor speed command values<a class="hash-link" href="#motor-speed-command-values" title="Direct link to heading">#</a></h4><p>Specify the rotation speed for the motor that was just specified.
The speed of the motor can be specified with values ranging between <code>0</code> and <code>255</code>. The correlation between the speed of the motor and the actual rotation speed of the wheels is shown in the graph below.</p><p><img alt="Input Speed and Wheel Speed" src="/toio-spec/en/assets/images/motor_wheel_speed_v2.1.0-4ac9be5da8fd3f36f1ec29bcaaf7e457.svg"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="motor-control-with-specified-duration"></a>Motor control with specified duration<a class="hash-link" href="#motor-control-with-specified-duration" title="Direct link to heading">#</a></h3><p>The duration of the operation can be specified with the control of the motors by writing the following configuration data.
The motor stops after the specified time has elapsed.</p><table><thead><tr><th>Data location</th><th>Type</th><th>Content</th><th>Example</th></tr></thead><tbody><tr><td>0</td><td>UInt8</td><td>Control type</td><td><span class="fixed"><code>0x02</code></span> (Motor control with specified duration)</td></tr><tr><td>1</td><td>UInt8</td><td>ID of motor controlled</td><td><code>0x01</code> (Left)</td></tr><tr><td>2</td><td>UInt8</td><td>Motor rotation direction</td><td><code>0x01</code> (Forward)</td></tr><tr><td>3</td><td>UInt8</td><td>Motor speed command values</td><td><code>0x64</code> (100)</td></tr><tr><td>4</td><td>UInt8</td><td>ID motor controlled</td><td><code>0x02</code> (Right)</td></tr><tr><td>5</td><td>UInt8</td><td>Motor rotation direction</td><td><code>0x02</code> (Backward)</td></tr><tr><td>6</td><td>UInt8</td><td>Motor speed command values</td><td><code>0x14</code> (20)</td></tr><tr><td>7</td><td>UInt8</td><td>Motor control duration</td><td><code>0x0A</code> (100 msec)</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="motor-control-duration"></a>Motor control duration<a class="hash-link" href="#motor-control-duration" title="Direct link to heading">#</a></h4><p>The duration in which the motor is controlled is specified with values ranging from <code>0</code> to <code>255</code>. A value of <code>0</code> means that there is no time limit and the motor continues to run at the specified speed until the next write operation is performed. For values ranging between <code>1</code> and <code>255</code>, the motor for 10 times the specified value in milliseconds, then stops.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="motor-control-with-target-specified"></a>Motor control with target specified<a class="hash-link" href="#motor-control-with-target-specified" title="Direct link to heading">#</a></h3><p>Motors can be controlled with a target state specified to make the cube move autonomously. Targets that can be set are made up of the following.</p><ul><li>X coordinate of the target point&#x27;s Position ID</li><li>Y coordinate of the target point&#x27;s Position ID</li><li>Θ angle of the cube at the target point</li></ul><p>The cube stops the motors when the central X coordinate, Y coordinate, and angle reach the target, and responds with <code>0x00: Normal end</code>. Or, if an error such as a timeout occurs, it responds with the corresponding error. For more information about the responses, refer to <a href="#responses-to-motor-control-with-target-specified">Responses to motor control with target specified</a>.</p><p>The state of having reached the target is defined as &quot;values of X and Y coordinates within 15 and the difference in angles within 4 degrees.&quot;</p><table><thead><tr><th>Data location</th><th>Type</th><th>Content</th><th>Example</th></tr></thead><tbody><tr><td>0</td><td>UInt8</td><td>Control type</td><td><span class="fixed"><code>0x03</code></span> (Motor control with target specified)</td></tr><tr><td>1</td><td>UInt8</td><td>Control distinction value</td><td><code>0x00</code></td></tr><tr><td>2</td><td>UInt8</td><td>Timeout period</td><td><code>0x05</code> (5 seconds)</td></tr><tr><td>3</td><td>UInt8</td><td>Movement type</td><td><code>0x00</code> (Moving while rotating)</td></tr><tr><td>4</td><td>UInt8</td><td>Value indicating maximum motor speed</td><td><code>0x50</code> (80)</td></tr><tr><td>5</td><td>UInt8</td><td>Motor speed change types</td><td><code>0x00</code> (Constant speed)</td></tr><tr><td>6</td><td>UInt8</td><td>Reserved</td><td><span class="fixed"><code>0x00</code></span></td></tr><tr><td>7</td><td>UInt16</td><td>X coordinate value of the target point</td><td><code>0x02bc</code> (700)</td></tr><tr><td>9</td><td>UInt16</td><td>Y coordinate value of the target point</td><td><code>0x0182</code> (386)</td></tr><tr><td>11</td><td>UInt16</td><td>Θ angle of the cube at the target point</td><td><code>0x005a</code> (90 degrees)</td></tr></tbody></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Byte order is little-endian. For other ways data structures are expressed, see <a href="/toio-spec/en/docs/ble_how_to_communicate#data-structures">Function usage - Data structures</a>.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="control-distinction-value"></a>Control distinction value<a class="hash-link" href="#control-distinction-value" title="Direct link to heading">#</a></h4><p>These values are used to distinguish between the corresponding <a href="#responses-to-motor-control-with-target-specified">Responses to motor control with target specified</a>. The value set for this is also included in the corresponding response. This allows for the identification of the corresponding response when performing write operations consecutively. This can be freely set to a value ranging between <code>0</code> and <code>255</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="timeout-period"></a>Timeout period<a class="hash-link" href="#timeout-period" title="Direct link to heading">#</a></h4><p>If the cube has not reached the target point after the timeout period set has passed, the cube stops moving and responds with <code>0x01: Timeout</code>.
The timeout period is specified with values ranging between <code>0</code> and <code>255</code>. These values are in seconds. The only exception is <code>0</code>, which is 10 seconds. The cube cannot be set to not timeout.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="movement-type"></a>Movement type<a class="hash-link" href="#movement-type" title="Direct link to heading">#</a></h4><p>Select one of the following three ways for the cube to move to the target point. When rotating the cube in one spot, the resulting movement is the same no matter which type is chosen.</p><table><thead><tr><th>Value</th><th>Method of movement</th></tr></thead><tbody><tr><td><code>0</code></td><td>Move while rotating</td></tr><tr><td><code>1</code></td><td>Move while rotating (without moving backwards)</td></tr><tr><td><code>2</code></td><td>Rotate after moving</td></tr></tbody></table><p><img alt="Movement Type" src="/toio-spec/en/assets/images/motor_movement_type-860e3c192e76f40fa8e8ee78b004519c.svg"></p><p align="center">Movement of each movement type: from left to right <code>0</code>, <code>1</code>, <code>2</code></p>.<h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="maximum-motor-speed-command-value"></a>Maximum motor speed command value<a class="hash-link" href="#maximum-motor-speed-command-value" title="Direct link to heading">#</a></h4><p>Specifies the maximum speed at which the cube can move. The cube moves at no more than the specified speed.
The valid values for maximum speed range between <code>10</code> and <code>255</code>. If a value less than <code>10</code> is specified, the command is discarded and the cube responds with <code>0x06: not supported</code>. The correlation between the speed command value and wheel rotation speed is the same as for <a href="#motor-speed-command-values">Motor speed command values</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="motor-speed-change-types"></a>Motor speed change types<a class="hash-link" href="#motor-speed-change-types" title="Direct link to heading">#</a></h4><p>Select one of the following 4 types of Motor speed change types for the cube moving towards the target point.</p><table><thead><tr><th>Value</th><th>Speed change type</th></tr></thead><tbody><tr><td><code>0x00</code></td><td>Speed constant</td></tr><tr><td><code>0x01</code></td><td>Gradual acceleration towards the target point</td></tr><tr><td><code>0x02</code></td><td>Gradual deceleration towards the target point</td></tr><tr><td><code>0x03</code></td><td>Gradual acceleration halfway until the target point, then deceleration from there to the target point</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="target-point-x-coordinates-and-y-coordinates"></a>Target point X coordinates and Y coordinates<a class="hash-link" href="#target-point-x-coordinates-and-y-coordinates" title="Direct link to heading">#</a></h4><p>Specifies the X and Y coordinates of the target point. The range of values is between <code>0x0000</code> and <code>0xffff</code> for both, and only <code>0xffff</code> is the value for &quot;same as for write operation&quot;. For the correlation between the printed Position ID and coordinates, see <a href="/toio-spec/en/docs/ble_id#coordinates-x-coordinate-y-coordinate">Identification sensor - Position ID - Coordinate (X coordinate, Y coordinate)</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="θ-angle-of-the-cube-at-the-target-point"></a>Θ Angle of the cube at the target point<a class="hash-link" href="#θ-angle-of-the-cube-at-the-target-point" title="Direct link to heading">#</a></h4><p>After the cube reaches the target X and Y coordinates, it will rotate to the specified angle. The angle is specified with values ranging between <code>0x0000</code> and <code>0x1ffffff</code> for the lower 13 bits of the total of 16 bits. The top 3 bits are specified with one of the following values. The angle and movement expressed by the lower 13 bits vary based on these values.</p><table><thead><tr><th>Top 3 bit value</th><th>Angle</th><th>Direction of rotation</th></tr></thead><tbody><tr><td><code>0x00</code></td><td>Angle</td><td>Direction of least amount of rotation</td></tr><tr><td><code>0x01</code></td><td>Angle</td><td>Forward direction</td></tr><tr><td><code>0x02</code></td><td>Angle</td><td>Negative direction</td></tr><tr><td><code>0x03</code></td><td>Relative angle</td><td>Forward direction</td></tr><tr><td><code>0x04</code></td><td>Relative angle</td><td>Negative direction</td></tr><tr><td><code>0x05</code></td><td>No angle specified</td><td>No rotation</td></tr><tr><td><code>0x06</code></td><td>Same as with write operation</td><td>Direction of least amount of rotation</td></tr></tbody></table><p>In the case of an absolute angle, the angle is the orientation with respect to the Position ID. In the case of a relative angle, the angle corresponds to the state of the cube when it arrives at the target point. For <code>0x05: No angle specified</code>, the lower 13 bits are ignored and motor control is terminated without rotation when the X and Y coordinates of the target point are reached. For <code>0x06: Same as with the write operation</code>, the lower 13 bits are ignored and rotation is performed in the same direction as the write operation.</p><p>See <a href="/toio-spec/en/docs/ble_id#angle">Identification sensor - Position ID - Angle</a> for the angle and rotation direction on the Position ID.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="motor-control-with-multiple-targets-specified"></a>Motor control with multiple targets specified<a class="hash-link" href="#motor-control-with-multiple-targets-specified" title="Direct link to heading">#</a></h3><p><a href="#motor-control-with-target-specified">Motor control with target specified</a> can be expanded to control a motor with multiple targets specified. In the example, 3 targets are pursued in order. When the cube reaches the last target, it stops the motor and responds with <code>0x00: Completed successfully</code>. If an error such as a timeout occurs, it responds with the corresponding error. For more information about the responses, refer to <a href="#responses-to-motor-control-with-multiple-targets-specified">Responses to motor control with multiple targets specified</a>.</p><table><thead><tr><th>Data location</th><th>Type</th><th>Content</th><th>Example</th></tr></thead><tbody><tr><td>0</td><td>UInt8</td><td>Control type</td><td><span class="fixed"><code>0x04</code></span> (Motor control with multiple targets specified)</td></tr><tr><td>1</td><td>UInt8</td><td>Control distinction value</td><td><code>0x00</code></td></tr><tr><td>2</td><td>UInt8</td><td>Timeout period</td><td><code>0x05</code> (5 seconds)</td></tr><tr><td>3</td><td>UInt8</td><td>Movement type</td><td><code>0x00</code> (Move while rotating)</td></tr><tr><td>4</td><td>UInt8</td><td>Value indicating maximum motor speed</td><td><code>0x50</code> (80)</td></tr><tr><td>5</td><td>UInt8</td><td>Motor speed change types</td><td><code>0x00</code> (Speed constant)</td></tr><tr><td>6</td><td>UInt8</td><td>Reserved</td><td><span class="fixed"><code>0x00</code></span></td></tr><tr><td>7</td><td>UInt8</td><td>Write operation addition setting</td><td><code>0x01</code> (Additional)</td></tr><tr><td>8</td><td>UInt16</td><td>X coordinate value of target point 1</td><td><code>0x0064</code> (100)</td></tr><tr><td>10</td><td>UInt16</td><td>Y coordinate value of target point 1</td><td><code>0x0064</code> (100)</td></tr><tr><td>12</td><td>UInt16</td><td>Θ Angle of cube at target point 1</td><td><code>0x0000</code> (0 degrees)</td></tr><tr><td>14</td><td>UInt16</td><td>X coordinate value of target point 2</td><td><code>0x00c8</code> (200)</td></tr><tr><td>16</td><td>UInt16</td><td>Y coordinate value of target point 2</td><td><code>0x0064</code> (100)</td></tr><tr><td>18</td><td>UInt16</td><td>Θ Angle of the cube at target point 2</td><td><code>0x005f</code> (90 degrees)</td></tr><tr><td>20</td><td>UInt16</td><td>X coordinate value of target point 3</td><td><code>0x00c8</code> (200)</td></tr><tr><td>22</td><td>UInt16</td><td>Y coordinate value of target point 3</td><td><code>0x00c8</code> (200)</td></tr><tr><td>24</td><td>UInt16</td><td>Θ Angle of the cube at target point 3</td><td><code>0x00b4</code> (180 degrees)</td></tr></tbody></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Byte order is little-endian. For other ways data structures are expressed, see <a href="/toio-spec/en/docs/ble_how_to_communicate#data-structures">Function usage - Data structures</a>.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="data-structure"></a>Data structure<a class="hash-link" href="#data-structure" title="Direct link to heading">#</a></h4><p>The data for this write operation has a structure where the data length can change depending on the number of targets specified. As shown in the example above, up to 29 targets can be specified by adding target information to the end of the data in the order of the X coordinate, Y coordinate, and cube angle. If there is no target information or more than 29 targets, an error occurs and the write operation is discarded. The more targets there are, the larger the data size will be. Note that depending on the data size, there may be delays due to the restraints of the BLE range.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="control-distinction-values"></a>Control distinction values<a class="hash-link" href="#control-distinction-values" title="Direct link to heading">#</a></h4><p>These values are used to distinguish between the corresponding <a href="#responses-to-motor-control-with-target-specified">Responses to motor control with target specified</a>. The value set for this is also included in the corresponding response. This allows for the identification of the corresponding response when performing write operations consecutively. This can be freely set to a value ranging between <code>0</code> and <code>255</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="timeout-period-1"></a>Timeout period<a class="hash-link" href="#timeout-period-1" title="Direct link to heading">#</a></h4><p>If the cube has not reached the target after the timeout period set has passed, the cube stops moving and responds with <code>0x01: Timeout</code>. The cube does not move towards any subsequent target points after this. When the cube reaches a target point, the timer resets and the timer starts for the cube to reach the next target point. Timeout period is specified with values ranging between <code>0</code> and <code>255</code>. These values are in seconds. The only exception is <code>0</code>, which is 10 seconds. The cube cannot be set to not timeout.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="movement-type-and-maximum-motor-speed-command-values"></a>Movement type and maximum motor speed command values<a class="hash-link" href="#movement-type-and-maximum-motor-speed-command-values" title="Direct link to heading">#</a></h4><p>Values are the same as those for <a href="#motor-control-with-target-specified">Motor control with target specified</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="motor-speed-change-types-1"></a>Motor speed change types<a class="hash-link" href="#motor-speed-change-types-1" title="Direct link to heading">#</a></h4><p>The values that can be specified and their range are the same as for <a href="#motor-control-with-target-specified">Motor control with target specified</a>. These values can be applied along the path of the cube takes to reach its target points.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="additional-write-operation-settings"></a>Additional write operation settings<a class="hash-link" href="#additional-write-operation-settings" title="Direct link to heading">#</a></h4><p>These values are to set the cube operations when a write operation is added. <code>0x00: overwrite</code> or <code>0x01: add</code> can be specified.</p><p>Generally, when a motor control value is written while a different motor control value is being performed, the control action being performed is overwritten (stopped and discarded) and the performance of the newly written control value begins. If <code>0x00: overwrite</code> is specified, this overwrite operation is performed.</p><p>If <code>0x01: add</code> is specified, only in the case the following 2 conditions are met, <strong>one</strong> write operation is added, put on hold, and automatically performed once the motor control being performed is complete.</p><ul><li>The motor control action currently being executed is <strong>a motor control with multiple targets specified</strong>.</li><li>There are no motor control values with multiple targets specified added.</li></ul><p>Even if <code>0x01: Add</code> is specified, if the motor control value currently being performed is not a motor control with multiple targets specified, the resulting operation is the same as <code>0x00: Overwrite</code>, and the motor control action currently being performed is overwritten (stopped and discarded). If there is a motor control with multiple targets already added, the write operation is discarded and the cube responds with <code>0x07: Cannot add write operation</code> of the <a href="#responses-to-motor-control-with-multiple-targets-specified">Responses to motor control with multiple targets specified</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="x-and-y-coordinates-of-the-target-point"></a>X and Y coordinates of the target point<a class="hash-link" href="#x-and-y-coordinates-of-the-target-point" title="Direct link to heading">#</a></h4><p>The values and range of values that can be specified are essentially the same as for <a href="#motor-control-with-target-specified">Motor control with target specified</a>. However, for the second and subsequent target points, <code>0xffff</code> is not &quot;the same as for the writing operation&quot; but &quot;the same as the settings for the previous target point&quot;.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="θ-angle-of-the-cube-at-the-target-point-1"></a>Θ angle of the cube at the target point<a class="hash-link" href="#θ-angle-of-the-cube-at-the-target-point-1" title="Direct link to heading">#</a></h4><p>The values and range of values that can be specified are essentially the same as for <a href="#motor-control-with-target-specified">Motor control with target specified</a>. However, for the second and subsequent target points, <code>0x06</code> for the top 3 bits is not &quot;the same as for the writing operation&quot; but &quot;the same as the settings for the previous target point&quot;. The &quot;relative angle&quot; is based on the angle of the cube when the write operation is performed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="motor-control-with-acceleration-specified"></a>Motor control with acceleration specified<a class="hash-link" href="#motor-control-with-acceleration-specified" title="Direct link to heading">#</a></h3><p>The cube&#x27;s motors can be controlled with the acceleration specified by writing the following configuration data. The cube can also be controlled with its translational speed and rotational speed specified instead of the speed of each motor. In the example, the cube moves slowly along an arc for one second.</p><table><thead><tr><th>Data location</th><th>Type</th><th>Content</th><th>Example</th></tr></thead><tbody><tr><td>0</td><td>UInt8</td><td>Control type</td><td><span class="fixed"><code>0x05</code></span> (Motor control with acceleration specified)</td></tr><tr><td>1</td><td>UInt8</td><td>Translational speed of cube</td><td><code>0x32</code> (50)</td></tr><tr><td>2</td><td>UInt8</td><td>Acceleration of cube</td><td><code>0x05</code> (5)</td></tr><tr><td>3</td><td>UInt16</td><td>Rotational velocity when cube changes orientation</td><td><code>0x000F</code> (15 degrees/second)</td></tr><tr><td>5</td><td>UInt8</td><td>Rotational direction when cube changes orientation</td><td><code>0x00</code> (Forward)</td></tr><tr><td>6</td><td>UInt8</td><td>Direction of cube travel</td><td><code>0x00</code> (Forward)</td></tr><tr><td>7</td><td>UInt8</td><td>Priority designation</td><td><code>0x00</code> (Translational speed prioritized)</td></tr><tr><td>8</td><td>UInt8</td><td>Duration of control</td><td><code>0x64</code> (1 second)</td></tr></tbody></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Byte order is little-endian. For other ways data structures are expressed, see <a href="/toio-spec/en/docs/ble_how_to_communicate#data-structures">Function usage - Data structures</a>.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="translational-speed-of-cube"></a>Translational speed of cube<a class="hash-link" href="#translational-speed-of-cube" title="Direct link to heading">#</a></h4><p>Specifies the speed at which the cube moves in relation to the direction of travel. The value range and correlation to the rotational speed of the wheels are the same as for <a href="#motor-speed-command-values">Motor speed command values</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="acceleration-of-cube"></a>Acceleration of cube<a class="hash-link" href="#acceleration-of-cube" title="Direct link to heading">#</a></h4><p>Specify the increment (or decrement) in speed every 100 milliseconds. Acceleration ends when the speed of the cube reaches the speed specified for &quot;Translational speed of cube&quot;. Values range between <code>0</code> and <code>255</code>. If <code>0</code> is specified, the speed of the cube becomes the speed specified for &quot;Translational speed of cube&quot; immediately after the write operation is executed. This setting is only effective when motor control values with acceleration is being written consecutively. If the cube is running with any other motor control, this value is ignored, and the speed specified for &quot;Translational speed of cube&quot; is specified immediately after the write operation is executed just as when <code>0</code> is specified.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="rotational-velocity-when-cube-changes-orientation"></a>Rotational velocity when cube changes orientation<a class="hash-link" href="#rotational-velocity-when-cube-changes-orientation" title="Direct link to heading">#</a></h4><p>Specifies the rotational velocity when the cube is changing orientation. The values that can be specified for this ranges between <code>0x00</code> and <code>0xffff</code> in degrees per second.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="rotational-direction-when-cube-changes-orientation"></a>Rotational direction when cube changes orientation<a class="hash-link" href="#rotational-direction-when-cube-changes-orientation" title="Direct link to heading">#</a></h4><p>Specifies the rotational direction when the cube is changing orientation. See <a href="/toio-spec/en/docs/ble_id#angle">Identification sensor - Position ID - Angle</a> for the angles and rotational directions based on the Position ID.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="direction-of-cube-travel"></a>Direction of cube travel<a class="hash-link" href="#direction-of-cube-travel" title="Direct link to heading">#</a></h4><p>Specifies the direction the cube travels.<code>0</code> is forward and <code>1</code> is backward.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="priority-designation"></a>Priority designation<a class="hash-link" href="#priority-designation" title="Direct link to heading">#</a></h4><p>Depending on how the translational speed and rotational velocity are combined, the range of speed specification values that can be specified for the motor may be exceeded. When this is the case, this parameter specifies whether to give priority to the translational speed or the rotational velocity. <code>0</code> gives priority to the translational speed and adjusts the rotational velocity. <code>1</code> gives priority to the rotational velocity and adjusts the translational speed.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="duration-of-control"></a>Duration of control<a class="hash-link" href="#duration-of-control" title="Direct link to heading">#</a></h4><p>Specifies the duration ranging between <code>0</code> and <code>255</code> in which the motor is controlled. A value of <code>0</code> specifies for there to be no time limit and the motor continues to run at the specified speed until the next write operation action is performed. In the <code>1</code> to <code>255</code> value range, the motor runs for 10 times the specified value in milliseconds, then stops.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="read-operations--notifications-"></a>Read operations / Notifications <span class="update"></span><a class="hash-link" href="#read-operations--notifications-" title="Direct link to heading">#</a></h2><p>This characteristic notifies the BLE central of information. The information being notified can also be obtained through read operations, and the content of this information can be determined with the value at the beginning of the data, as shown below.</p><table><thead><tr><th>Beginning of data</th><th>Information</th></tr></thead><tbody><tr><td><code>0x83</code></td><td><a href="#responses-to-motor-control-with-target-specified">Responses to motor control with target specified</a></td></tr><tr><td><code>0x84</code></td><td><a href="#responses-to-motor-control-with-multiple-targets-specified">Responses to motor control with multiple targets specified</a></td></tr><tr><td><code>0xe0</code></td><td><a href="#obtaining-motor-speed-information">Obtaining motor speed information</a></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="responses-to-motor-control-with-target-specified"></a>Responses to motor control with target specified<a class="hash-link" href="#responses-to-motor-control-with-target-specified" title="Direct link to heading">#</a></h3><p>After <a href="#motor-control-with-target-specified">Motor control with target specified</a> is written, the following configuration data is sent as a response once only.</p><table><thead><tr><th>Data location</th><th>Type</th><th>Content</th><th>Example</th></tr></thead><tbody><tr><td>0</td><td>UInt8</td><td>Control type</td><td><span class="fixed"><code>0x83</code></span> (Response to motor control with target specified)</td></tr><tr><td>1</td><td>UInt8</td><td>Control identification value</td><td><code>0x00</code></td></tr><tr><td>2</td><td>UInt8</td><td>Response content</td><td><code>0x00</code> (Completed successfully)</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="control-identification-value"></a>Control identification value<a class="hash-link" href="#control-identification-value" title="Direct link to heading">#</a></h4><p>The value set for the corresponding <a href="#motor-control-with-target-specified">Motor control with target specified</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="response-content"></a>Response content<a class="hash-link" href="#response-content" title="Direct link to heading">#</a></h4><p>The response content is one of the following depending on the content of the written data and result of execution.</p><table><thead><tr><th>Value</th><th>Content</th><th>State</th></tr></thead><tbody><tr><td><code>0x00</code></td><td>Completed successfully</td><td>When target is reached. <br>Motors stop.</td></tr><tr><td><code>0x01</code></td><td>Timeout</td><td>When the specified timeout period has elapsed. <br>Motors stop.</td></tr><tr><td><code>0x02</code></td><td>toio ID missed</td><td>When the cube is in a location without toio ID. <br>Motors stop.</td></tr><tr><td><code>0x03</code></td><td>Invalid combination of parameters</td><td>When the X coordinate, Y coordinate, and angle are <code>the same as what is currently written</code>.<br>Write operation is discarded.</td></tr><tr><td><code>0x04</code></td><td>Invalid state</td><td>When cube is turned off.<br>Cube is turned off after a notification on the response is received.</td></tr><tr><td><code>0x05</code></td><td>Other written control accepted</td><td>When a motor control that isn&#x27;t a motor control with multiple target s specified is written. <br>The motor control currently being performed is terminated and a newly written motor control is performed.</td></tr><tr><td><code>0x06</code></td><td>Not supported</td><td>When the maximum speed command value of the specified motor is less than <code>8</code>. <br>Write operation is discarded.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="responses-to-motor-control-with-multiple-targets-specified"></a>Responses to motor control with multiple targets specified<a class="hash-link" href="#responses-to-motor-control-with-multiple-targets-specified" title="Direct link to heading">#</a></h3><p>After <a href="#motor-control-with-multiple-targets-specified">Motor control with multiple targets specified</a> is written, the following configuration data is sent once as a response.</p><table><thead><tr><th>Data location</th><th>Type</th><th>Content</th><th>Example</th></tr></thead><tbody><tr><td>0</td><td>UInt8</td><td>Control type</td><td><span class="fixed"><code>0x84</code></span> (Response to motor control with multiple targets specified)</td></tr><tr><td>1</td><td>UInt8</td><td>Control identification value</td><td><code>0x00</code></td></tr><tr><td>2</td><td>UInt8</td><td>Response content</td><td><code>0x00</code> (Completed successfully)</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="control-identification-value-1"></a>Control identification value<a class="hash-link" href="#control-identification-value-1" title="Direct link to heading">#</a></h4><p>The value set with the corresponding <a href="#motor-control-with-multiple-targets-specified">Motor control with multiple targets specified</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="response-content-1"></a>Response content<a class="hash-link" href="#response-content-1" title="Direct link to heading">#</a></h4><p>The response content is one of the following depending on the written data content and execution results.</p><table><thead><tr><th>Value</th><th>Content</th><th>State</th></tr></thead><tbody><tr><td><code>0x00</code></td><td>Completed successfully</td><td>When target is reached. <br>Motors stop.</td></tr><tr><td><code>0x01</code></td><td>Timeout</td><td>When the specified timeout period has elapsed. <br>Motors stop.</td></tr><tr><td><code>0x02</code></td><td>toio ID missed</td><td>When the cube is in a location without toio ID. <br>Motors stop.</td></tr><tr><td><code>0x03</code></td><td>Invalid combination of parameters</td><td>When the X coordinate, Y coordinate, and angle are <code>the same as what is currently written</code>.<br>Write operation is discarded.</td></tr><tr><td><code>0x04</code></td><td>Invalid state</td><td>When cube is turned off.<br>Cube is turned off after a notification on the response is received.</td></tr><tr><td><code>0x05</code></td><td>Other written control accepted</td><td>When a motor control that isn&#x27;t a motor control with multiple target s specified is written. <br>The motor control currently being performed is terminated and a newly written motor control is performed.</td></tr><tr><td><code>0x06</code></td><td>Not supported</td><td>When the maximum speed command value of the specified motor is less than <code>8</code>. <br>Write operation is discarded.</td></tr><tr><td><code>0x07</code></td><td>Write operation cannot be added</td><td>When a write operation cannot be added.<br>Write operation is discarded.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="obtaining-motor-speed-information"></a>Obtaining motor speed information<a class="hash-link" href="#obtaining-motor-speed-information" title="Direct link to heading">#</a></h3><p>There is a sensor in the cube that detects the speed of the motors. Information can be obtained from this sensor with the following configuration data. The information is updated and notified at 100 millisecond intervals. If there are no changes in the value, no notification is sent.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This function is <strong>disabled</strong> by default. When necessary, it can be enabled under <a href="/toio-spec/en/docs/ble_configuration#motor-speed-information-acquisition-settings">Configuration - Motor speed information acquisition settings</a>.</p></div></div><table><thead><tr><th>Data location</th><th>Type</th><th>Content</th><th>Example</th></tr></thead><tbody><tr><td>0</td><td>UInt8</td><td>Information type</td><td><span class="fixed"><code>0xe0</code></span> (Obtaining speed information)</td></tr><tr><td>1</td><td>UInt8</td><td>Speed of motor ID 1 (left)</td><td><code>0x32</code> (50)</td></tr><tr><td>2</td><td>UInt8</td><td>Speed of motor ID 2 (right)</td><td><code>0x00</code> (0)</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="speed"></a>Speed<a class="hash-link" href="#speed" title="Direct link to heading">#</a></h4><p>This is the speed of each motor. The values are in the same units as the <a href="#motor-speed-command-values">Motor speed command values</a> entered for <a href="#motor-control">Motor control</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/toio-spec/en/docs/ble_battery"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Battery</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/toio-spec/en/docs/ble_light"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Indicator »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#write-operations" class="table-of-contents__link">Write operations</a><ul><li><a href="#motor-control" class="table-of-contents__link">Motor Control</a></li><li><a href="#motor-control-with-specified-duration" class="table-of-contents__link">Motor control with specified duration</a></li><li><a href="#motor-control-with-target-specified" class="table-of-contents__link">Motor control with target specified</a></li><li><a href="#motor-control-with-multiple-targets-specified" class="table-of-contents__link">Motor control with multiple targets specified</a></li><li><a href="#motor-control-with-acceleration-specified" class="table-of-contents__link">Motor control with acceleration specified</a></li></ul></li><li><a href="#read-operations--notifications-" class="table-of-contents__link">Read operations / Notifications <span class="update"></a><ul><li><a href="#responses-to-motor-control-with-target-specified" class="table-of-contents__link">Responses to motor control with target specified</a></li><li><a href="#responses-to-motor-control-with-multiple-targets-specified" class="table-of-contents__link">Responses to motor control with multiple targets specified</a></li><li><a href="#obtaining-motor-speed-information" class="table-of-contents__link">Obtaining motor speed information</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/toio-spec/en/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/toio-spec/en/docs/hardware_components">Hardware specifications</a></li><li class="footer__item"><a class="footer__link-item" href="/toio-spec/en/docs/ble_communication_overview">BLE protocol specifications</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/toio-spec/en/users">Users &amp; Libraries</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/toio" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://ja.stackoverflow.com/questions/tagged/toio" target="_blank" rel="noopener noreferrer" class="footer__link-item">スタック・オーバーフロー</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://toio.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Web</a></li><li class="footer__item"><a href="https://toio.io/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">toio blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://www.sie.com/jp/website.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li><li class="footer__item"><a href="https://toio.io/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/toio-spec/en/trademark-notice">Trademark Notice</a></li></ul></div></div><div class="footer__bottom margin-top--lg"><div>The document is licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Creative Commons Attribution 4.0 International License</a>.</div><div>The image and 3D data are licensed under <a href="https://creativecommons.org/licenses/by-nd/4.0/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Creative Commons Attribution-NoDerivatives 4.0 International License</a>.</div><div class="footer__copyright">Copyright © 2021 Sony Interactive Entertainment Inc.</div></div></div></footer></div>
<script src="/toio-spec/en/assets/js/runtime~main.5c18497b.js"></script>
<script src="/toio-spec/en/assets/js/main.3df5706d.js"></script>
</body>
</html>