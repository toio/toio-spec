---
id: version-2.0.0-ble_sensor
title: モーションセンサー
sidebar_label: モーションセンサー
original_id: ble_sensor
---

キューブはモーションセンサー（6 軸検出システム）によってキューブの姿勢や衝突などの状態情報を検出できます。
これらの情報は以下の特性（characteristic）を使うことで取得できます。

| プロパティ          | 値                                     |
| ------------------- | -------------------------------------- |
| Characteristic UUID | 10B20106-5B3B-4571-9508-CF3EFCD7BBAE   |
| Properties          | [Read](#読み出し操作), [Notify](#通知) |
| Descriptor          | Sensor Information                     |

## 読み出し操作

### 検出

キューブのモーションセンサーの情報を以下に示す構成のデータで取得できます。

| データ位置 | タイプ | 内容       | 例                                |
| ---------- | ------ | ---------- | --------------------------------- |
| 0          | UInt8  | 情報の種類 | <span fixed>`0x01`</span>（検出） |
| 1          | UInt8  | 水平検出   | `0x00`（水平ではない）            |
| 2          | UInt8  | 衝突検出   | `0x00`（衝突なし）                |

#### 水平検出

キューブが水平なときは`0x01`（水平）、キューブが一定の角度（下図の θ）より傾いた時に`0x00`（水平ではない）になります。角度のしきい値については[設定 - 水平検出のしきい値設定](configuration.md#水平検出のしきい値設定)で変更可能です。

**ロール方向**
![Flat Status Threshold - Roll](assets/configuration_flat_status_threshold_roll.svg)

**ピッチ方向**
![Flat Status Threshold - Pitch](assets/configuration_flat_status_threshold_pitch.svg)

#### 衝突検出

キューブと何かが衝突したときに`0x00`（衝突なし）から`0x01`（衝突あり）に変わります。
検出される衝突の大きさのしきい値については[設定 - 衝突検出のしきい値設定](configuration.md#衝突検出のしきい値設定)で変更可能です。

## 通知

キューブのモーションセンサーの情報が変化すると、この特性は BLE セントラルに情報を通知します。
通知される情報の内容とデータの構造は[読み出し操作](#読み出し操作)で得られるものと同じです。
